!function(t){var r,a,d,i,e=null;n.prototype={options:{drag:!0,dragClass:"drag",overClass:"over",movedContainerSelector:".dnd-moved"},handleDragStart:function(n){t(this).addClass(d.options.dragClass),e=this,n.dataTransfer.effectAllowed="copy",n.dataTransfer.setData("text/html",this.id)},handleDragOver:function(n){n.preventDefault&&n.preventDefault(),n.dataTransfer.dropEffect="copy"},handleDragEnter:function(n){[].forEach.call(r,function(n){t(n).removeClass(d.options.overClass)}),t(this).addClass(d.options.overClass)},handleDragLeave:function(n){},handleDrop:function(n){n.stopPropagation&&n.stopPropagation(),e!==n&&d.moveColumns(t(e).index(),t(this).index())},handleDragEnd:function(n){var a={array:[],object:{}};[].forEach.call(r,function(n){var e=t(n).attr("data-name")||t(n).index();t(n).removeClass(d.options.overClass),a.object[e]=t(n).index(),a.array.push(t(n).index())}),"function"==typeof d.options.onDragEnd&&d.options.onDragEnd(a),t(e).removeClass(d.options.dragClass)},moveColumns:function(n,e){for(var a,t,r=i.find(d.options.movedContainerSelector),o=0;o<r.length;o++)n<e?(a=r[o].children[n],(t=r[o].children[e]).parentNode.insertBefore(a,t.nextSibling)):e<i.find("thead tr th").length-1&&r[o].insertBefore(r[o].children[n],r[o].children[e])}},a=n,t.fn.extend({dragableColumns:function(){var e=arguments[0];return this.each(function(){var n=t(this);new a(n,e)})}});function n(n,e){i=n,(d=this).options=t.extend({},d.options,e),d.options.drag&&(9===(-1!==(n=navigator.userAgent.toLowerCase()).indexOf("msie")&&parseInt(n.split("msie")[1]))&&i.find("thead tr th").each(function(){0===t(this).find(".drag-ie").length&&t(this).html(t("<a>").html(t(this).html()).attr("href","#").addClass("drag-ie"))}),r=i.find("thead tr th"),jQuery.event.addProp("dataTransfer"),[].forEach.call(r,function(n){n.setAttribute("draggable",!0),t(n).on("dragstart",d.handleDragStart),t(n).on("dragenter",d.handleDragEnter),t(n).on("dragover",d.handleDragOver),t(n).on("dragleave",d.handleDragLeave),t(n).on("drop",d.handleDrop),t(n).on("dragend",d.handleDragEnd)}))}}(window.jQuery,window);