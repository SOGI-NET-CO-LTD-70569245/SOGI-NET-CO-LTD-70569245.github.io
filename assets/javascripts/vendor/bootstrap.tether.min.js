!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e(require,0,module):t.Tether=e()}(this,function(o,n,a){"use strict";function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t){var e,o=t.getBoundingClientRect(),i={};for(e in o)i[e]=o[e];return t.ownerDocument===document||(t=t.ownerDocument.defaultView.frameElement)&&(t=h(t),i.top+=t.top,i.bottom+=t.top,i.left+=t.left,i.right+=t.left),i}function f(t){var e=(getComputedStyle(t)||{}).position,o=[];if("fixed"===e)return[t];for(var i=t;(i=i.parentNode)&&i&&1===i.nodeType;){var n=void 0;try{n=getComputedStyle(i)}catch(t){}if(null==n)return o.push(i),o;var s=n,r=s.overflow,a=s.overflowX,s=s.overflowY;/(auto|scroll|overlay)/.test(r+s+a)&&("absolute"!==e||0<=["relative","absolute","fixed"].indexOf(n.position))&&o.push(i)}return o.push(t.ownerDocument.body),t.ownerDocument!==document&&o.push(t.ownerDocument.defaultView),o}function d(){r&&document.body.removeChild(r),r=null}function O(t){var e,o=void 0,i=(t===document?(o=document,t=document.documentElement):o=t.ownerDocument,o.documentElement),t=h(t),n=((n=r)&&document.body.contains(n)||((n=document.createElement("div")).setAttribute("data-tether-id",b()),C(n.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(n),r=n),e=n.getAttribute("data-tether-id"),void 0===y[e]&&(y[e]=h(n),A(function(){delete y[e]})),y[e]);return t.top-=n.top,t.left-=n.left,void 0===t.width&&(t.width=document.body.scrollWidth-t.left-t.right),void 0===t.height&&(t.height=document.body.scrollHeight-t.top-t.bottom),t.top=t.top-i.clientTop,t.left=t.left-i.clientLeft,t.right=o.body.clientWidth-t.width-t.left,t.bottom=o.body.clientHeight-t.height-t.top,t}function T(t){return t.offsetParent||document.documentElement}function S(){if(w)return w;var t=document.createElement("div"),e=(t.style.width="100%",t.style.height="200px",document.createElement("div")),o=(C(e.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e),t.offsetWidth),t=(e.style.overflow="scroll",t.offsetWidth),e=(o===t&&(t=e.clientWidth),document.body.removeChild(e),o-t);return w={width:e,height:e}}function C(){var o=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=[];return Array.prototype.push.apply(t,arguments),t.slice(1).forEach(function(t){if(t)for(var e in t)!{}.hasOwnProperty.call(t,e)||(o[e]=t[e])}),o}function i(e,t){void 0!==e.classList?t.split(" ").forEach(function(t){t.trim()&&e.classList.remove(t)}):(t=new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi"),t=c(e).replace(t," "),u(e,t))}function s(e,t){void 0!==e.classList?t.split(" ").forEach(function(t){t.trim()&&e.classList.add(t)}):(i(e,t),t=c(e)+" "+t,u(e,t))}function p(t,e){if(void 0!==t.classList)return t.classList.contains(e);t=c(t);return new RegExp("(^| )"+e+"( |$)","gi").test(t)}function c(t){return t.className instanceof t.ownerDocument.defaultView.SVGAnimatedString?t.className.baseVal:t.className}function u(t,e){t.setAttribute("class",e)}function E(e,o,t){t.forEach(function(t){-1===o.indexOf(t)&&p(e,t)&&i(e,t)}),o.forEach(function(t){p(e,t)||s(e,t)})}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(){return"undefined"!=typeof performance&&void 0!==performance.now?performance.now():+new Date}function P(){for(var o={top:0,left:0},t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.forEach(function(t){var e=t.top,t=t.left;"string"==typeof e&&(e=parseFloat(e,10)),"string"==typeof t&&(t=parseFloat(t,10)),o.top+=e,o.left+=t}),o}function M(t,e){return"string"==typeof t.left&&-1!==t.left.indexOf("%")&&(t.left=parseFloat(t.left,10)/100*e.width),"string"==typeof t.top&&-1!==t.top.indexOf("%")&&(t.top=parseFloat(t.top,10)/100*e.height),t}var x=void 0;function m(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}void 0===x&&(x={modules:[]});var v,r=null,b=(v=0,function(){return++v}),y={},w=null,W=[],A=function(t){W.push(t)},k=function(){for(var t=void 0;t=W.pop();)t()},_=((j=function(t,e,o){return e&&m(t.prototype,e),o&&m(t,o),t})(B,[{key:"on",value:function(t,e,o){var i=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];void 0===this.bindings&&(this.bindings={}),void 0===this.bindings[t]&&(this.bindings[t]=[]),this.bindings[t].push({handler:e,ctx:o,once:i})}},{key:"once",value:function(t,e,o){this.on(t,e,o,!0)}},{key:"off",value:function(t,e){if(void 0!==this.bindings&&void 0!==this.bindings[t])if(void 0===e)delete this.bindings[t];else for(var o=0;o<this.bindings[t].length;)this.bindings[t][o].handler===e?this.bindings[t].splice(o,1):++o}},{key:"trigger",value:function(t){if(void 0!==this.bindings&&this.bindings[t]){for(var e=0,o=arguments.length,i=Array(1<o?o-1:0),n=1;n<o;n++)i[n-1]=arguments[n];for(;e<this.bindings[t].length;){var s=this.bindings[t][e],r=s.handler,a=s.ctx,s=s.once,a=void 0===a?this:a;r.apply(a,i),s?this.bindings[t].splice(e,1):++e}}}}]),B);function B(){l(this,B)}x.Utils={getActualBoundingClientRect:h,getScrollParents:f,getBounds:O,getOffsetParent:T,extend:C,addClass:s,removeClass:i,hasClass:p,updateClasses:E,defer:A,flush:k,uniqueId:b,Evented:_,getScrollBarSize:S,removeUtilElements:d};var z=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){var o=e,i=[],n=!0,e=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done)&&(i.push(r.value),!o||i.length!==o);n=!0);}catch(t){e=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(e)throw s}}return i}throw new TypeError("Invalid attempt to destructure non-iterable instance")},j=function(t,e,o){return e&&Y(t.prototype,e),o&&Y(t,o),t};function Y(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}if(void 0===x)throw new Error("You must include the utils.js file before tether.js");function L(){H.forEach(function(t){t.position(!1)}),k()}var D,t,X,f=(e=x.Utils).getScrollParents,O=e.getBounds,T=e.getOffsetParent,C=e.extend,s=e.addClass,i=e.removeClass,E=e.updateClasses,A=e.defer,k=e.flush,S=e.getScrollBarSize,d=e.removeUtilElements,F=function(){if("undefined"==typeof document)return"";for(var t=document.createElement("div"),e=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],o=0;o<e.length;++o){var i=e[o];if(void 0!==t.style[i])return i}}(),H=[];function N(){return void 0!==t&&16<t?(t=Math.min(t-16,250),void(X=setTimeout(N,250))):void(void 0!==D&&g()-D<10||(null!=X&&(clearTimeout(X),X=null),D=g(),L(),t=g()-D))}X=t=D=null,"undefined"!=typeof window&&void 0!==window.addEventListener&&["resize","scroll","touchmove"].forEach(function(t){window.addEventListener(t,N)});function U(t){var e=t.left,o=t.top;return{left:e=void 0!==I[t.left]?I[t.left]:e,top:o=void 0!==I[t.top]?I[t.top]:o}}function V(t){return t=t.split(" "),{top:(t=z(t,2))[0],left:t[1]}}var R={center:"center",left:"right",right:"left"},q={middle:"middle",top:"bottom",bottom:"top"},I={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},$=V,G=function(){function o(t){var e=this;l(this,o),function(t,e,o){for(var i=!0;i;){var n=t,s=e,r=o,i=!1,a=(null===n&&(n=Function.prototype),Object.getOwnPropertyDescriptor(n,s));if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(r)}l=Object.getPrototypeOf(n);if(null===l)return;t=l,e=s,o=r,i=!0,a=void 0}}(Object.getPrototypeOf(o.prototype),"constructor",this).call(this),this.position=this.position.bind(this),H.push(this),this.history=[],this.setOptions(t,!1),x.modules.forEach(function(t){void 0!==t.initialize&&t.initialize.call(e)}),this.position()}var t=o,e=_;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),j(o,[{key:"getClass",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=this.options.classes;return void 0!==e&&e[t]?this.options.classes[t]:this.options.classPrefix?this.options.classPrefix+"-"+t:t}},{key:"setOptions",value:function(t){var e=this,o=arguments.length<=1||void 0===arguments[1]||arguments[1],t=(this.options=C({offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"},t),this.options),i=t.element,n=t.target,t=t.targetModifier;if(this.element=i,this.target=n,this.targetModifier=t,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(t){if(void 0===e[t])throw new Error("Tether Error: Both element and target must be defined");void 0!==e[t].jquery?e[t]=e[t][0]:"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))}),s(this.element,this.getClass("element")),!1!==this.options.addTargetClasses&&s(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=$(this.options.targetAttachment),this.attachment=$(this.options.attachment),this.offset=V(this.options.offset),this.targetOffset=V(this.options.targetOffset),void 0!==this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=f(this.target),!1!==this.options.enabled&&this.enable(o)}},{key:"getTargetBounds",value:function(){return void 0===this.targetModifier?O(this.target):"visible"===this.targetModifier?this.target===document.body?{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}:((i={height:(t=O(this.target)).height,width:t.width,top:t.top,left:t.left}).height=Math.min(i.height,t.height-(pageYOffset-t.top)),i.height=Math.min(i.height,t.height-(t.top+t.height-(pageYOffset+innerHeight))),i.height=Math.min(innerHeight,i.height),i.height-=2,i.width=Math.min(i.width,t.width-(pageXOffset-t.left)),i.width=Math.min(i.width,t.width-(t.left+t.width-(pageXOffset+innerWidth))),i.width=Math.min(innerWidth,i.width),i.width-=2,i.top<pageYOffset&&(i.top=pageYOffset),i.left<pageXOffset&&(i.left=pageXOffset),i):"scroll-handle"===this.targetModifier?(t=void 0,t=(s=this.target)===document.body?(s=document.documentElement,{left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):O(s),e=getComputedStyle(s),o=0,(s.scrollWidth>s.clientWidth||0<=[e.overflow,e.overflowX].indexOf("scroll")||this.target!==document.body)&&(o=15),i={width:15,height:.975*(o=t.height-parseFloat(e.borderTopWidth)-parseFloat(e.borderBottomWidth)-o)*(o/s.scrollHeight),left:t.left+t.width-parseFloat(e.borderLeftWidth)-15},n=0,o<408&&this.target===document.body&&(n=-11e-5*Math.pow(o,2)-.00727*o+22.58),this.target!==document.body&&(i.height=Math.max(i.height,24)),s=this.target.scrollTop/(s.scrollHeight-o),i.top=s*(o-i.height-n)+t.top+parseFloat(e.borderTopWidth),this.target===document.body&&(i.height=Math.max(i.height,24)),i):void 0;var t,e,o,i,n,s}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(t,e){return void 0===this._cache&&(this._cache={}),void 0===this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]}},{key:"enable",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]||arguments[0];!1!==this.options.addTargetClasses&&s(this.target,this.getClass("enabled")),s(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(t){t!==e.target.ownerDocument&&t.addEventListener("scroll",e.position)}),t&&this.position()}},{key:"disable",value:function(){var e=this;i(this.target,this.getClass("enabled")),i(this.element,this.getClass("enabled")),this.enabled=!1,void 0!==this.scrollParents&&this.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.position)})}},{key:"destroy",value:function(){var o=this;this.disable(),H.forEach(function(t,e){t===o&&H.splice(e,1)}),0===H.length&&d()}},{key:"updateAttachClasses",value:function(t,e){var o=this,i=(t=t||this.attachment,e=e||this.targetAttachment,void 0!==this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),void 0===this._addAttachClasses&&(this._addAttachClasses=[]),this._addAttachClasses),n=(t.top&&i.push(this.getClass("element-attached")+"-"+t.top),t.left&&i.push(this.getClass("element-attached")+"-"+t.left),e.top&&i.push(this.getClass("target-attached")+"-"+e.top),e.left&&i.push(this.getClass("target-attached")+"-"+e.left),[]);["left","top","bottom","right","middle","center"].forEach(function(t){n.push(o.getClass("element-attached")+"-"+t),n.push(o.getClass("target-attached")+"-"+t)}),A(function(){void 0!==o._addAttachClasses&&(E(o.element,o._addAttachClasses,n),!1!==o.options.addTargetClasses&&E(o.target,o._addAttachClasses,n),delete o._addAttachClasses)})}},{key:"position",value:function(){var t,f,e,o=this,d=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();s=this.targetAttachment,n=this.attachment,i=s.left,s=s.top;for(var p={left:i="auto"===i?R[n.left]:i,top:s="auto"===s?q[n.top]:s},c=(this.updateAttachClasses(this.attachment,p),this.cache("element-bounds",function(){return O(o.element)})),i=c.width,n=c.height,u=(0===i&&0===n&&void 0!==this.lastSize?(i=(s=this.lastSize).width,n=s.height):this.lastSize={width:i,height:n},this.cache("target-bounds",function(){return o.getTargetBounds()})),s=u,g=M(U(this.attachment),{width:i,height:n}),m=M(U(p),s),v=M(this.offset,{width:i,height:n}),b=M(this.targetOffset,s),g=P(g,v),m=P(m,b),r=u.left+m.left-g.left,a=u.top+m.top-g.top,y=0;y<x.modules.length;++y){var w=x.modules[y].position.call(this,{left:r,top:a,targetAttachment:p,targetPos:u,elementPos:c,offset:g,targetOffset:m,manualOffset:v,manualTargetOffset:b,scrollbarSize:C,attachment:this.attachment});if(!1===w)return!1;void 0!==w&&"object"==typeof w&&(a=w.top,r=w.left)}var s={page:{top:a,left:r},viewport:{top:a-pageYOffset,bottom:pageYOffset-a-n+innerHeight,left:r-pageXOffset,right:pageXOffset-r-i+innerWidth}},l=this.target.ownerDocument,h=l.defaultView,C=void 0;return h.innerHeight>l.documentElement.clientHeight&&(C=this.cache("scrollbar-size",S),s.viewport.bottom-=C.height),h.innerWidth>l.documentElement.clientWidth&&(C=this.cache("scrollbar-size",S),s.viewport.right-=C.width),-1!==["","static"].indexOf(l.body.style.position)&&-1!==["","static"].indexOf(l.body.parentElement.style.position)||(s.page.bottom=l.body.scrollHeight-a-n,s.page.right=l.body.scrollWidth-r-i),void 0!==this.options.optimizations&&!1!==this.options.optimizations.moveElement&&void 0===this.targetModifier&&(t=o.cache("target-offsetparent",function(){return T(o.target)}),h=o.cache("target-offsetparent-bounds",function(){return O(t)}),f=getComputedStyle(t),n=h,e={},["Top","Left","Bottom","Right"].forEach(function(t){e[t.toLowerCase()]=parseFloat(f["border"+t+"Width"])}),h.right=l.body.scrollWidth-h.left-n.width+e.right,h.bottom=l.body.scrollHeight-h.top-n.height+e.bottom,s.page.top>=h.top+e.top&&s.page.bottom>=h.bottom&&s.page.left>=h.left+e.left&&s.page.right>=h.right&&(n=t.scrollTop,i=t.scrollLeft,s.offset={top:s.page.top-h.top+n-e.top,left:s.page.left-h.left+i-e.left})),this.move(s),this.history.unshift(s),3<this.history.length&&this.history.pop(),d&&k(),!0}}},{key:"move",value:function(t){var e,n=this;if(void 0!==this.element.parentNode){var o,i={};for(o in t)for(var s in i[o]={},t[o]){for(var f=!1,r=0;r<this.history.length;++r){var d=this.history[r];if(void 0!==d[o]&&!function(t,e,o){return e<=t+(o=arguments.length<=2||void 0===o?1:o)&&t-o<=e}(d[o][s],t[o][s])){f=!0;break}}f||(i[o][s]=!0)}var a={top:"",left:"",right:"",bottom:""},l=function(t,e){var o,i;!1!==(void 0!==n.options.optimizations?n.options.optimizations.gpu:null)?(i=o=void 0,o=t.top?(a.top=0,e.top):(a.bottom=0,-e.bottom),i=t.left?(a.left=0,e.left):(a.right=0,-e.right),window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 1.3dppx)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3)").matches||(i=Math.round(i),o=Math.round(o))),a[F]="translateX("+i+"px) translateY("+o+"px)","msTransform"!==F&&(a[F]+=" translateZ(0)")):(t.top?a.top=e.top+"px":a.bottom=e.bottom+"px",t.left?a.left=e.left+"px":a.right=e.right+"px")},p=!1;if((i.page.top||i.page.bottom)&&(i.page.left||i.page.right)?(a.position="absolute",l(i.page,t.page)):(i.viewport.top||i.viewport.bottom)&&(i.viewport.left||i.viewport.right)?(a.position="fixed",l(i.viewport,t.viewport)):void 0!==i.offset&&i.offset.top&&i.offset.left?(a.position="absolute",e=n.cache("target-offsetparent",function(){return T(n.target)}),T(n.element)!==e&&A(function(){n.element.parentNode.removeChild(n.element),e.appendChild(n.element)}),l(i.offset,t.offset),p=!0):(a.position="absolute",l({top:!0,left:!0},t.page)),!p)if(this.options.bodyElement)this.options.bodyElement.appendChild(this.element);else{for(var c=!0,h=this.element.parentNode;h&&1===h.nodeType&&"BODY"!==h.tagName;){if("static"!==getComputedStyle(h).position){c=!1;break}h=h.parentNode}c||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var u={},g=!1;for(s in a){var m=a[s];this.element.style[s]!==m&&(g=!0,u[s]=m)}g&&A(function(){C(n.element.style,u),n.trigger("repositioned")})}}}]),o}(),G=(G.modules=[],x.position=L,C(G,x)),z=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){var o=e,i=[],n=!0,e=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done)&&(i.push(r.value),!o||i.length!==o);n=!0);}catch(t){e=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(e)throw s}}return i}throw new TypeError("Invalid attempt to destructure non-iterable instance")},O=(e=x.Utils).getBounds,C=e.extend,E=e.updateClasses,A=e.defer,Z=["left","top","right","bottom"];x.modules.push({position:function(t){var f=this,d=t.top,p=t.left,y=t.targetAttachment;if(!this.options.constraints)return!0;var t=this.cache("element-bounds",function(){return O(f.element)}),c=t.height,u=t.width,t=(0===u&&0===c&&void 0!==this.lastSize&&(t=this.lastSize,u=t.width,c=t.height),this.cache("target-bounds",function(){return f.getTargetBounds()})),g=t.height,m=t.width,o=[this.getClass("pinned"),this.getClass("out-of-bounds")],w=(this.options.constraints.forEach(function(t){var e=t.outOfBoundsClass,t=t.pinnedClass;e&&o.push(e),t&&o.push(t)}),o.forEach(function(e){["left","top","right","bottom"].forEach(function(t){o.push(e+"-"+t)})}),[]),v=C({},y),b=C({},this.attachment);return this.options.constraints.forEach(function(t){var e,o,i,n,s,r=t.to,a=t.attachment,t=t.pin,l=void 0,h=void 0,r=(l=0<=(a=void 0===a?"":a).indexOf(" ")?(e=a.split(" "),h=(e=z(e,2))[0],e[1]):h=a,e=f,"scrollParent"===(o=r)?o=e.scrollParents[0]:"window"===o&&(o=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),void 0!==(o=o===document?o.documentElement:o).nodeType&&(a=O(e=o),r=a,i=getComputedStyle(o),o=[r.left,r.top,a.width+r.left,a.height+r.top],e.ownerDocument!==document&&(a=e.ownerDocument.defaultView,o[0]+=a.pageXOffset,o[1]+=a.pageYOffset,o[2]+=a.pageXOffset,o[3]+=a.pageYOffset),Z.forEach(function(t,e){"Top"===(t=t[0].toUpperCase()+t.substr(1))||"Left"===t?o[e]+=parseFloat(i["border"+t+"Width"]):o[e]-=parseFloat(i["border"+t+"Width"])})),o),a=("target"!==h&&"both"!==h||(d<r[1]&&"top"===v.top&&(d+=g,v.top="bottom"),d+c>r[3]&&"bottom"===v.top&&(d-=g,v.top="top")),"together"===h&&("top"===v.top&&("bottom"===b.top&&d<r[1]?(d+=g,v.top="bottom",d+=c,b.top="top"):"top"===b.top&&d+c>r[3]&&d-(c-g)>=r[1]&&(d-=c-g,v.top="bottom",b.top="bottom")),"bottom"===v.top&&("top"===b.top&&d+c>r[3]?(d-=g,v.top="top",d-=c,b.top="bottom"):"bottom"===b.top&&d<r[1]&&d+(2*c-g)<=r[3]&&(d+=c-g,v.top="top",b.top="top")),"middle"===v.top&&(d+c>r[3]&&"top"===b.top?(d-=c,b.top="bottom"):d<r[1]&&"bottom"===b.top&&(d+=c,b.top="top"))),"target"!==l&&"both"!==l||(p<r[0]&&"left"===v.left&&(p+=m,v.left="right"),p+u>r[2]&&"right"===v.left&&(p-=m,v.left="left")),"together"===l&&(p<r[0]&&"left"===v.left?"right"===b.left?(p+=m,v.left="right",p+=u,b.left="left"):"left"===b.left&&(p+=m,v.left="right",p-=u,b.left="right"):p+u>r[2]&&"right"===v.left?"left"===b.left?(p-=m,v.left="left",p-=u,b.left="right"):"right"===b.left&&(p-=m,v.left="left",p+=u,b.left="left"):"center"===v.left&&(p+u>r[2]&&"left"===b.left?(p-=u,b.left="right"):p<r[0]&&"right"===b.left&&(p+=u,b.left="left"))),"element"!==h&&"both"!==h||(d<r[1]&&"bottom"===b.top&&(d+=c,b.top="top"),d+c>r[3]&&"top"===b.top&&(d-=c,b.top="bottom")),"element"!==l&&"both"!==l||(p<r[0]&&("right"===b.left?(p+=u,b.left="left"):"center"===b.left&&(p+=u/2,b.left="left")),p+u>r[2]&&("left"===b.left?(p-=u,b.left="right"):"center"===b.left&&(p-=u/2,b.left="right"))),"string"==typeof t?t=t.split(",").map(function(t){return t.trim()}):!0===t&&(t=["top","left","right","bottom"]),t=t||[],[]),h=[];d<r[1]&&(0<=t.indexOf("top")?(d=r[1],a.push("top")):h.push("top")),d+c>r[3]&&(0<=t.indexOf("bottom")?(d=r[3]-c,a.push("bottom")):h.push("bottom")),p<r[0]&&(0<=t.indexOf("left")?(p=r[0],a.push("left")):h.push("left")),p+u>r[2]&&(0<=t.indexOf("right")?(p=r[2]-u,a.push("right")):h.push("right")),a.length&&(s=void 0!==f.options.pinnedClass?f.options.pinnedClass:f.getClass("pinned"),w.push(s),a.forEach(function(t){w.push(s+"-"+t)})),h.length&&(n=void 0!==f.options.outOfBoundsClass?f.options.outOfBoundsClass:f.getClass("out-of-bounds"),w.push(n),h.forEach(function(t){w.push(n+"-"+t)})),(0<=a.indexOf("left")||0<=a.indexOf("right"))&&(b.left=v.left=!1),(0<=a.indexOf("top")||0<=a.indexOf("bottom"))&&(b.top=v.top=!1),v.top===y.top&&v.left===y.left&&b.top===f.attachment.top&&b.left===f.attachment.left||(f.updateAttachClasses(b,v),f.trigger("update",{attachment:b,targetAttachment:v}))}),A(function(){!1!==f.options.addTargetClasses&&E(f.target,w,o),E(f.element,w,o)}),{top:d,left:p}}});var e,O=(e=x.Utils).getBounds,E=e.updateClasses,A=e.defer,z=(x.modules.push({position:function(t){var e=this,o=t.top,i=t.left,t=this.cache("element-bounds",function(){return O(e.element)}),f=t.height,t=t.width,n=this.getTargetBounds(),s=o+f,r=i+t,a=[],l=(o<=n.bottom&&s>=n.top&&["left","right"].forEach(function(t){var e=n[t];e!==i&&e!==r||a.push(t)}),i<=n.right&&r>=n.left&&["top","bottom"].forEach(function(t){var e=n[t];e!==o&&e!==s||a.push(t)}),[]),h=[];return l.push(this.getClass("abutted")),["left","top","right","bottom"].forEach(function(t){l.push(e.getClass("abutted")+"-"+t)}),a.length&&h.push(this.getClass("abutted")),a.forEach(function(t){h.push(e.getClass("abutted")+"-"+t)}),A(function(){!1!==e.options.addTargetClasses&&E(e.target,h,l),E(e.element,h,l)}),!0}}),function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){var o=e,i=[],n=!0,e=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done)&&(i.push(r.value),!o||i.length!==o);n=!0);}catch(t){e=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(e)throw s}}return i}throw new TypeError("Invalid attempt to destructure non-iterable instance")});return x.modules.push({position:function(t){var e,o,i,n,s=t.top,t=t.left;if(this.options.shift)return e=this.options.shift,n=i=void 0,n="string"==typeof(e="function"==typeof this.options.shift?this.options.shift.call(this,{top:s,left:t}):e)?((e=e.split(" "))[1]=e[1]||e[0],i=(o=z(e,2))[0],n=o[1],i=parseFloat(i,10),parseFloat(n,10)):(i=e.top,e.left),{top:s+=i,left:t+=n}}}),G});