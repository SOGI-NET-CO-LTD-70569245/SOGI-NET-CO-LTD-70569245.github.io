!function(s,l){"use strict";var r="stickyTableHeaders",t=0,o={fixedOffset:0,leftOffset:0,marginTop:0,objDocument:document,objHead:"head",objWindow:l,scrollableArea:l,cacheHeaderHeight:!1,zIndex:3};s.fn[r]=function(i){return this.each(function(){var e=s.data(this,"plugin_"+r);e?"string"==typeof i?e[i].apply(e):e.updateOptions(i):"destroy"!==i&&s.data(this,"plugin_"+r,new function(e,i){var a=this;a.$el=s(e),a.el=e,a.id=t++,a.$el.bind("destroyed",s.proxy(a.teardown,a)),a.$clonedHeader=null,a.$originalHeader=null,a.cachedHeaderHeight=null,a.isSticky=!1,a.hasBeenSticky=!1,a.leftOffset=null,a.topOffset=null,a.init=function(){a.setOptions(i),a.$el.each(function(){var e=s(this);e.css("padding",0),a.$originalHeader=s("thead:first",this),a.$clonedHeader=a.$originalHeader.clone(),e.trigger("clonedHeader."+r,[a.$clonedHeader]),a.$clonedHeader.addClass("tableFloatingHeader"),a.$clonedHeader.css({display:"none",opacity:0}),a.$originalHeader.addClass("tableFloatingHeaderOriginal"),a.$originalHeader.after(a.$clonedHeader),a.$printStyle=s('<style type="text/css" media="print">.tableFloatingHeader{display:none !important;}.tableFloatingHeaderOriginal{position:static !important;}</style>'),a.$head.append(a.$printStyle)}),a.$clonedHeader.find("input, select").attr("disabled",!0),a.updateWidth(),a.toggleHeaders(),a.bind()},a.destroy=function(){a.$el.unbind("destroyed",a.teardown),a.teardown()},a.teardown=function(){a.isSticky&&a.$originalHeader.css("position","static"),s.removeData(a.el,"plugin_"+r),a.unbind(),a.$clonedHeader.remove(),a.$originalHeader.removeClass("tableFloatingHeaderOriginal"),a.$originalHeader.css("visibility","visible"),a.$printStyle.remove(),a.el=null,a.$el=null},a.bind=function(){a.$scrollableArea.on("scroll."+r,a.toggleHeaders),a.isWindowScrolling||(a.$window.on("scroll."+r+a.id,a.setPositionValues),a.$window.on("resize."+r+a.id,a.toggleHeaders)),a.$scrollableArea.on("resize."+r,a.toggleHeaders),a.$scrollableArea.on("resize."+r,a.updateWidth)},a.unbind=function(){a.$scrollableArea.off("."+r,a.toggleHeaders),a.isWindowScrolling||(a.$window.off("."+r+a.id,a.setPositionValues),a.$window.off("."+r+a.id,a.toggleHeaders)),a.$scrollableArea.off("."+r,a.updateWidth)},a.debounce=function(t,o){var n=null;return function(){var e=this,i=arguments;clearTimeout(n),n=setTimeout(function(){t.apply(e,i)},o)}},a.toggleHeaders=a.debounce(function(){a.$el&&a.$el.each(function(){var e,i=s(this),t=a.isWindowScrolling?isNaN(a.options.fixedOffset)?a.options.fixedOffset.outerHeight():a.options.fixedOffset:a.$scrollableArea.offset().top+(isNaN(a.options.fixedOffset)?0:a.options.fixedOffset),o=i.offset(),n=a.$scrollableArea.scrollTop()+t,d=a.$scrollableArea.scrollLeft(),l=a.isWindowScrolling?n>o.top:t>o.top;l&&(e=a.options.cacheHeaderHeight?a.cachedHeaderHeight:a.$clonedHeader.height(),e=(a.isWindowScrolling?n:0)<o.top+i.height()-e-(a.isWindowScrolling?0:t)),l&&e?(n=o.left-d+a.options.leftOffset,a.$originalHeader.css({position:"fixed","margin-top":a.options.marginTop,top:0,left:n,"z-index":a.options.zIndex}),a.leftOffset=n,a.topOffset=t,a.$clonedHeader.css("display",""),a.isSticky||(a.isSticky=!0,a.updateWidth(),i.trigger("enabledStickiness."+r)),a.setPositionValues()):a.isSticky&&(a.$originalHeader.css("position","static"),a.$clonedHeader.css("display","none"),a.isSticky=!1,a.resetWidth(s("td,th",a.$clonedHeader),s("td,th",a.$originalHeader)),i.trigger("disabledStickiness."+r))})},0),a.setPositionValues=a.debounce(function(){var e=a.$window.scrollTop(),i=a.$window.scrollLeft();!a.isSticky||e<0||e+a.$window.height()>a.$document.height()||i<0||i+a.$window.width()>a.$document.width()||a.$originalHeader.css({top:a.topOffset-(a.isWindowScrolling?0:e),left:a.leftOffset-(a.isWindowScrolling?0:i)})},0),a.updateWidth=a.debounce(function(){var e;a.isSticky&&(a.$originalHeaderCells||(a.$originalHeaderCells=s("th,td",a.$originalHeader)),a.$clonedHeaderCells||(a.$clonedHeaderCells=s("th,td",a.$clonedHeader)),e=a.getWidth(a.$clonedHeaderCells),a.setWidth(e,a.$clonedHeaderCells,a.$originalHeaderCells),a.$originalHeader.css("width",a.$clonedHeader.width()),a.options.cacheHeaderHeight&&(a.cachedHeaderHeight=a.$clonedHeader.height()))},0),a.getWidth=function(e){var d=[];return e.each(function(e){var i,t,o,n=s(this);i="border-box"===n.css("box-sizing")?(i=n[0].getBoundingClientRect()).width||i.right-i.left:"collapse"===s("th",a.$originalHeader).css("border-collapse")?l.getComputedStyle?parseFloat(l.getComputedStyle(this,null).width):(i=parseFloat(n.css("padding-left")),t=parseFloat(n.css("padding-right")),o=parseFloat(n.css("border-width")),n.outerWidth()-i-t-o):n.width(),d[e]=i}),d},a.setWidth=function(t,e,o){e.each(function(e){var i=t[e];o.eq(e).css({"min-width":i,"max-width":i})})},a.resetWidth=function(e,t){e.each(function(e){var i=s(this);t.eq(e).css({"min-width":i.css("min-width"),"max-width":i.css("max-width")})})},a.setOptions=function(e){a.options=s.extend({},o,e),a.$window=s(a.options.objWindow),a.$head=s(a.options.objHead),a.$document=s(a.options.objDocument),a.$scrollableArea=s(a.options.scrollableArea),a.isWindowScrolling=a.$scrollableArea[0]===a.$window[0]},a.updateOptions=function(e){a.setOptions(e),a.unbind(),a.bind(),a.updateWidth(),a.toggleHeaders()},a.init()}(this,i))})}}(jQuery,window);