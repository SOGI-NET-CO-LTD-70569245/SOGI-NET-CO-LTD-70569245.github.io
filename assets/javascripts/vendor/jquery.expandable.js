!function(p){p.fn.expandable=function(i){var e,s=p(this),t=(null==i&&(i={}),{height:200,more:"展開",less:"收合",no_less:!1,offset:0,animation_duration:250,expand_responsive:0});for(e in t)i.hasOwnProperty(e)||(i[e]=t[e]);var a=p('<div class="expand-bar"><a class="btn btn-outline-primary" href="javascript:void();"><span class="more">'+i.more+'</span><span class="less" style="display: none">'+i.less+"</span></a></div>");a.on("click",function(){var e=p(this).closest(".expandable"),s=e.find(".expandable-init"),a=p(this).find(".more"),n=p(this).find(".less");null==i&&(i=s.data("expand_params")),e.hasClass("expanded")?(e.css("height",s.outerHeight(!0)),setTimeout(function(){e.css("height",i.height)},1),n.hide(),a.show(),e.removeClass("expanded")):(e.css({height:s.outerHeight(!0)}),n.show(),a.hide(),setTimeout(function(){e.css("height","auto")},i.animation_duration),e.addClass("expanded"),i.no_less&&(p(this).hide(),p(this).unbind("click"),s.unbind("expandable_resize")))});for(var n=0;n<s.length;n++){var d,o=p(s[n]);o.hasClass("expandable-init")||(o.addClass("expandable-init"),"0px"===o.css("padding-top")&&o.css("padding-top","1px"),"0px"===o.css("padding-bottom")&&o.css("padding-bottom","1px"),d=p('<div class="expandable" />'),o.on("expandable_resize",function(){var e=p(this),s=e.outerHeight(!0),a=e.parent(),n=a.find(".expand-bar");0<(e=null==(e=e.data("expand_params"))?{offset:0,height:t.height}:e).expand_responsive&&e.expand_responsive>window.innerWidth||s<=e.height+e.offset?(a.css("height","auto"),n.hide()):(a.hasClass("expanded")||a.css("height",e.height),n.show())}),d.insertBefore(o),o.detach(),d.append(o),d.css({overflow:"hidden",position:"relative",height:i.height}),o.data("expand_params",i),d.append(a.clone(!0)))}function h(){s.trigger("expandable_resize")}return p(window).on("resize",h),h(),s}}(jQuery);