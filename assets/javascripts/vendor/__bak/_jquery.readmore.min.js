/*!
 * @preserve
 *
 * Readmore.js jQuery plugin
 * Author: @jed_foster
 * Project home: http://jedfoster.github.io/Readmore.js
 * Licensed under the MIT license
 *
 * Debounce function from http://davidwalsh.name/javascript-debounce-function
 */
!function(d){"use strict";function o(e){var t=e.clone().css({height:"auto",width:e.width(),maxHeight:"none",overflow:"hidden"}).insertAfter(e),a=t.outerHeight(),i=parseInt(t.css({maxHeight:""}).css("max-height").replace(/[^-\d\.]/g,""),10),n=e.data("defaultHeight"),t=(t.remove(),i||e.data("collapsedHeight")||n);e.data({expandedHeight:a,maxHeight:i,collapsedHeight:t}).css({maxHeight:"none"})}function n(e,t){var a,i;this.element=e,this.options=d.extend({},g,t),e=this.options,p[e.selector]||(t=" ",e.embedCSS&&""!==e.blockCSS&&(t+=e.selector+" + [data-readmore-toggle], "+e.selector+"[data-readmore]{"+e.blockCSS+"}"),t+=e.selector+"[data-readmore]{transition: height "+e.speed+"ms;overflow: hidden;}",a=document,t=t,(i=a.createElement("style")).type="text/css",i.styleSheet?i.styleSheet.cssText=t:i.appendChild(a.createTextNode(t)),a.getElementsByTagName("head")[0].appendChild(i),p[e.selector]=!0),this._defaults=g,this._name=c,this.init(),window.addEventListener?(window.addEventListener("load",r),window.addEventListener("resize",r)):(window.attachEvent("load",r),window.attachEvent("resize",r))}function r(){var e=this,t=arguments,a=h&&!l;clearTimeout(l),l=setTimeout(function(){l=null,h||i.apply(e,t)},s),a&&i.apply(e,t)}var i,s,h,l,c="readmore",g={speed:100,collapsedHeight:200,heightMargin:16,moreLink:'<a href="#">Read More</a>',lessLink:'<a href="#">Close</a>',embedCSS:!0,blockCSS:"display: block; width: 100%;",startOpen:!1,beforeToggle:function(){},afterToggle:function(){}},p={},u=0;i=function(){d("[data-readmore]").each(function(){var e=d(this),t="true"===e.attr("aria-expanded");o(e),e.css({height:e.data(t?"expandedHeight":"collapsedHeight")})})},s=100;n.prototype={init:function(){var t=this,a=d(this.element),e=(a.data({defaultHeight:this.options.collapsedHeight,heightMargin:this.options.heightMargin}),o(a),a.data("collapsedHeight")),i=a.data("heightMargin");if(a.outerHeight(!0)<=e+i)return!0;var n=a.attr("id")||(i=++u,String(null==n?"rmjs-":n)+i),i=t.options.startOpen?t.options.lessLink:t.options.moreLink;a.attr({"data-readmore":"","aria-expanded":!1,id:n}),a.after(d(i).on("click",function(e){t.toggle(this,a[0],e)}).attr({"data-readmore-toggle":"","aria-controls":n})),t.options.startOpen||a.css({height:e})},toggle:function(e,t,a){a&&a.preventDefault(),e=e||d('[aria-controls="'+this.element.id+'"]')[0],t=t||this.element;var i=this,a=d(t),n="",o="",r=!1,s=a.data("collapsedHeight");a.height()<=s?(n=a.data("expandedHeight")+"px",o="lessLink",r=!0):(n=s,o="moreLink"),i.options.beforeToggle(e,t,!r),a.css({height:n}),a.on("transitionend",function(){i.options.afterToggle(e,t,r),d(this).attr({"aria-expanded":r}).off("transitionend")}),d(e).replaceWith(d(i.options[o]).on("click",function(e){i.toggle(this,t,e)}).attr({"data-readmore-toggle":"","aria-controls":a.attr("id")}))},destroy:function(){d(this.element).each(function(){var e=d(this);e.attr({"data-readmore":null,"aria-expanded":null}).css({maxHeight:"",height:""}).next("[data-readmore-toggle]").remove(),e.removeData()})}},d.fn.readmore=function(t){var a=arguments,i=this.selector;return"object"==typeof(t=t||{})?this.each(function(){var e;d.data(this,"plugin_"+c)&&(e=d.data(this,"plugin_"+c)).destroy.apply(e),t.selector=i,d.data(this,"plugin_"+c,new n(this,t))}):"string"==typeof t&&"_"!==t[0]&&"init"!==t?this.each(function(){var e=d.data(this,"plugin_"+c);e instanceof n&&"function"==typeof e[t]&&e[t].apply(e,Array.prototype.slice.call(a,1))}):void 0}}(jQuery);